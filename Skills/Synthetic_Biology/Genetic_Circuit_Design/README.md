# Genetic Circuit Design Agent

**ID:** `biomedical.synthetic_biology.genetic_circuit`
**Version:** 1.0.0
**Status:** Production
**Category:** Synthetic Biology / Genetic Engineering

---

## Overview

The **Genetic Circuit Design Agent** automates the design of synthetic genetic circuits for applications in metabolic engineering, biosensing, and cell-based therapies. It uses Bayesian optimization and machine learning to optimize circuit architecture and parameters, reducing the design-build-test-learn cycle from months to days.

Genetic circuits are networks of genes and regulatory elements that process cellular signals like electronic circuits process electrical signals. This agent enables the design of logic gates, oscillators, feedback controllers, and complex decision-making circuits in living cells.

---

## Key Capabilities

### 1. Circuit Architectures

| Type | Function | Example |
|------|----------|---------|
| **Logic gates** | Boolean operations | AND, OR, NOT, NOR, NAND |
| **Toggle switches** | Bistable memory | Epigenetic switches |
| **Oscillators** | Periodic behavior | Repressilator |
| **Feedback controllers** | Homeostatic regulation | Autoregulatory loops |
| **Cascades** | Signal amplification | Multi-stage activation |

### 2. Design Components

| Component | Function | Examples |
|-----------|----------|----------|
| **Promoters** | Transcription control | Ptac, Pbad, Ptet |
| **RBS** | Translation control | BCD, RBS calculator |
| **Terminators** | Transcription stop | T7te, rrnB |
| **Repressors** | Gene silencing | LacI, TetR, CI |
| **Activators** | Gene activation | AraC, LuxR |
| **Reporters** | Output measurement | GFP, RFP, LacZ |

### 3. Optimization Methods

| Method | Use Case | Advantage |
|--------|----------|-----------|
| **Bayesian optimization** | Parameter tuning | Sample-efficient |
| **Genetic algorithms** | Architecture search | Global optimization |
| **Monte Carlo** | Uncertainty analysis | Robustness testing |
| **ODE simulation** | Dynamic behavior | Mechanistic insight |

### 4. Host Organisms

- **E. coli:** Standard chassis, extensive parts library
- **S. cerevisiae:** Eukaryotic expression, compartmentalization
- **Mammalian cells:** Therapeutic circuits, CAR-T
- **Cell-free systems:** Rapid prototyping

---

## Usage

### Example Prompt

```text
Design a genetic AND gate in E. coli that activates GFP expression
only when BOTH arabinose AND IPTG are present.

Requirements:
- Low leaky expression in OFF states
- High fold-change (>50x) when both inputs present
- Compatible with standard BioBrick assembly
- Include RBS optimization for balanced expression
```

### Expected Output

```
## Genetic AND Gate Design

### Circuit Specification
- **Logic function:** GFP = Arabinose AND IPTG
- **Host:** E. coli DH5α / BL21
- **Fold-change target:** >50x
- **Leakage target:** <2% of max expression

### Circuit Architecture

```
    Arabinose          IPTG
        ↓                ↓
    [AraC]           [LacI]
        ↓                ↓
   Pbad promoter    Plac promoter
        ↓                ↓
    T7 RNAP ----→ PT7 → GFP
   (split system)
```

### Design Strategy: Split T7 RNAP AND Gate

The AND gate uses a split T7 RNA polymerase approach:
- **Input 1 (Ara):** Controls expression of T7 N-terminal fragment
- **Input 2 (IPTG):** Controls expression of T7 C-terminal fragment
- **Output:** GFP under T7 promoter (requires both fragments)

### Genetic Parts List

| Part | Type | Sequence/ID | Source |
|------|------|-------------|--------|
| Pbad | Promoter | BBa_I0500 | iGEM Registry |
| Plac | Promoter | BBa_R0010 | iGEM Registry |
| T7-N | CDS | T7 RNAP 1-179 | Split system |
| T7-C | CDS | T7 RNAP 180-883 | Split system |
| PT7 | Promoter | BBa_I712074 | iGEM Registry |
| sfGFP | Reporter | BBa_I746916 | iGEM Registry |
| B0034 | RBS | Medium strength | iGEM Registry |
| B0015 | Terminator | Double | iGEM Registry |

### Circuit DNA Sequence

#### Plasmid 1: pAND-T7N
```
Pbad-RBS(B0034)-T7_RNAP_N_terminal-B0015
```
**Size:** ~2.1 kb insert

#### Plasmid 2: pAND-T7C
```
Plac-RBS(B0034)-T7_RNAP_C_terminal-B0015
```
**Size:** ~2.8 kb insert

#### Plasmid 3: pAND-Reporter
```
PT7-RBS(B0034)-sfGFP-B0015
```
**Size:** ~1.2 kb insert

### RBS Optimization Results

| Component | Original TIR | Optimized TIR | Fold Change |
|-----------|--------------|---------------|-------------|
| T7-N | 5,000 | 12,500 | 2.5x |
| T7-C | 5,000 | 10,000 | 2.0x |
| sfGFP | 10,000 | 25,000 | 2.5x |

**Optimized RBS sequences generated by RBS Calculator**

### Predicted Performance

#### Truth Table
| Arabinose | IPTG | GFP (AU) | Expected |
|-----------|------|----------|----------|
| 0 | 0 | 15 ± 5 | OFF |
| 1 | 0 | 45 ± 12 | OFF |
| 0 | 1 | 38 ± 10 | OFF |
| 1 | 1 | 2,850 ± 320 | ON |

#### Performance Metrics
| Metric | Predicted | Target |
|--------|-----------|--------|
| **Fold-change** | 63x | >50x ✓ |
| **Leakage (max)** | 1.6% | <2% ✓ |
| **Response time** | ~4 hours | - |
| **Dynamic range** | 2.8 logs | - |

### ODE Model

```python
# AND gate dynamics
def and_gate_model(y, t, params):
    T7N, T7C, GFP = y
    k_N, k_C, k_GFP, d_T7, d_GFP, K_ara, K_iptg, ara, iptg = params

    # T7 fragment expression
    dT7N = k_N * (ara / (K_ara + ara)) - d_T7 * T7N
    dT7C = k_C * (iptg / (K_iptg + iptg)) - d_T7 * T7C

    # GFP expression (requires both fragments)
    T7_active = T7N * T7C / (T7N * T7C + 100)  # Cooperative assembly
    dGFP = k_GFP * T7_active - d_GFP * GFP

    return [dT7N, dT7C, dGFP]
```

### Assembly Protocol

1. **PCR amplify** all parts with BioBrick prefix/suffix
2. **Digest** with EcoRI/XbaI (upstream) and SpeI/PstI (downstream)
3. **Ligate** parts in order using standard BioBrick assembly
4. **Transform** into DH5α for cloning, BL21 for expression
5. **Verify** by colony PCR and sequencing

### Testing Protocol

| Day | Activity |
|-----|----------|
| 1 | Transform plasmids into BL21 |
| 2 | Pick colonies, start overnight cultures |
| 3 | Dilute 1:100, induce at OD 0.4 with combinations |
| 4 | Measure GFP fluorescence (plate reader) after 6h |
```

### LLM Agent Integration

```python
@tool
def design_genetic_circuit(
    circuit_type: str,
    logic_function: str,
    host_organism: str = "e_coli",
    output_gene: str = "GFP",
    optimization_goal: str = "fold_change"
) -> str:
    """
    Designs a genetic circuit with specified logic.

    Args:
        circuit_type: AND, OR, NOT, toggle_switch, oscillator
        logic_function: Boolean expression (e.g., "A AND B")
        host_organism: Target organism
        output_gene: Reporter or output gene
        optimization_goal: fold_change, response_time, robustness

    Returns:
        Complete circuit design with parts and protocols
    """
    pass


@tool
def optimize_circuit_parameters(
    circuit_model: str,
    parameter_ranges: dict,
    objective: str = "maximize_output",
    num_iterations: int = 50
) -> str:
    """
    Optimizes genetic circuit parameters using Bayesian optimization.

    Args:
        circuit_model: ODE model or SBML file
        parameter_ranges: Dict of {param: (min, max)}
        objective: Optimization objective
        num_iterations: Number of Bayesian optimization iterations

    Returns:
        Optimal parameters with predicted performance
    """
    pass
```

---

## Prerequisites

### Required Tools/Databases

| Resource | Purpose | Access |
|----------|---------|--------|
| **iGEM Registry** | Standard biological parts | Public |
| **RBS Calculator** | RBS strength prediction | Salis Lab |
| **Cello** | Genetic circuit compiler | MIT |
| **iBioSim** | Circuit simulation | Open source |

### Dependencies

```
numpy>=1.24
scipy>=1.10
pandas>=1.5
matplotlib>=3.7
tellurium>=2.2  # SBML simulation
scikit-optimize>=0.9  # Bayesian optimization
```

---

## Methodology

### Bayesian Optimization Pipeline

```
Initial Design Space
    ↓
Latin Hypercube Sampling (5-10 points)
    ↓
Build & Test Initial Designs
    ↓
Fit Gaussian Process Model
    ↓
Acquisition Function (Expected Improvement)
    ↓
Select Next Design Point
    ↓
Build & Test
    ↓
Update Model → Repeat
    ↓
Optimal Design (50-100 iterations)
```

---

## Related Skills

- **Metabolic Pathway Optimizer:** Pathway engineering
- **CRISPR Design Agent:** Gene editing integration
- **Lab Automation (Opentrons):** Automated circuit construction

---

## References

- **Nielsen et al. (2016):** "Genetic circuit design automation." *Science*
- **Roehner et al. (2016):** "Generating Systems Biology Markup Language (SBML) models from genetic circuit designs."
- [Cello: Genetic Circuit Design](http://cellocad.org/)
- [iGEM Registry of Standard Biological Parts](http://parts.igem.org/)

---

## Author

**MD BABU MIA**
*Artificial Intelligence Group*
*Icahn School of Medicine at Mount Sinai*
md.babu.mia@mssm.edu
